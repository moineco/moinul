---
title: "Software"
output:
  html_document:
    toc: yes
    toc_float: yes
    collapsed: no
    number_sections: no
    toc_depth: 1
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Updated on: `r Sys.Date()`

# 1. Zotero

Download [Zotero](https://www.zotero.org/)

**Zotero with Quarto and RMarkdown**

1.  Create an **account on Zotero** website. It will be used later on to sync the database of bibliographic metadata.

2.  Download and install the two plugins we'll need:

<!-- -->

a.  **ZotFile** (organizes the database of PDFs)

b.  **Better BibTeX** (exports the library to .bib, we'll use it later with rmarkdown).

The plugins for Zotero are .xpi archives. To install the plugins open Zotero and click Tools --\> Add-ons. A separate window for Add-ons manager will pop-up.

c.  Select Install Add-on from **File** option. Finally navigate to the .xpi file and install.

<!-- -->

4.  **Zotero preferences**. Let's walk though Zotero Preferences. To edit them click Edit --\> Preferences. A window with several tabs pops up.

5.  **Zotero sync**. Here we need to specify the account details to sync our database. It is important to uncheck the option of full-text sync otherwise the 300MB storage will quickly get filled. We'll have the solution for full text a bit later.

6.  **Advanced**. Here we are most interested in the sub-tab Files and Folders. This is the most important step to separate the storage of metadata and files.

7.  Set your **Base directory** inside your Dropbox

```{txt}
/Users/Owner/Dropbox/zotero_library
```

8.  **Better BibTeX**. This tab appears after we install the Better BibTeX extension. The extension is needed to export the whole bibliographic library (or some of its parts) as a plain .bib text file. This step is needed to use Zotero in RStudio while writing academic papers with Quarto and RMarkdown.

9.  The most important option here is to define the rules for creating citation keys. There are almost infinite number of ways one can define these keys (check the manual). My personal choice is a key consists of the **first author's name_publication year**.

```{txt}
[auth:capitalize]'_'[year]
```

10. **ZotFile Preferences**. To open the setup window click Tools --\> ZotFile Preferences. Again, the window has several tabs.

11. *General*. Here we define two paths.

The first is the default location of the files downloaded by your browser. This option tells ZotFile where to look for the PDFs to process when you import a paper from the publisher's website.

```{txt}
/Users/Owner/Downloads
```

The second path leads to the local directory created for the full-text PDFs, the one that I named zotero-library and which is synced with an external cloud solution of our choice.

12. For the second path, set your **Custom Location** inside your Dropbox.

```{txt}
/Users/Owner/Dropbox/zotero_library/AUTH
```

13. Renaming Rules. Here it's important to make sure that ZotFile is responsible for renaming. Then we define how to rename the PDFs based on the bibliographic metadata available. Again, here we have many many options. My choice is {%a\_}{%y\_}{%t} which yields file names like.

14. If you parse the metadata manually from a PDF, make sure to rename the file using ZotFile. For that right-click the metadata record Manage Attachments --\> Rename Attachments. This action explicitly tells to use ZotFile for renaming and will move the renamed PDF to a proper sub-directory.

15. Use Zotero library in RStudio with rmarkdown **Better BibTeX** offers an easy way to export bibliographic records from Zotero as plain .bib text and keep the file updated once the records are changed. Just right-click on the collection in Zotero and choose Export Collection.

# 2. Fresh installation of Ubuntu/Fedora

##### Use `fdisk` command to delete a hard disk partition:

`fdisk` also known as format disk is a dialog-driven command in Linux used for creating and manipulating disk partition table. It is used for the view, create, delete, change, resize, copy and move partitions on a hard drive using the dialog-driven interface. `fdisk` allows you to create a maximum of four primary partitions and the number of logical partition depends on the size of the hard disk you are using.Â 

1.  **View All Disk Partitions:**

The first thing to do before doing any thing with the disks and partition is to view basic details about all available partition in the system.

```{txt}
sudo fdisk -l
```

2.  **View Partition on a Specific Disk:** 

Below command is used to view all disk partitions on device /dev/sda.

```{txt}
sudo fdisk -l /dev/sda
```

3.  **Delete a Hard Disk Partition:**

To delete a partition for the hard disk and free up space occupied by that partition for example /dev/sdb. Go to the command menu using following:

```{txt}
sudo fdisk /dev/sda
```

- And then type `d` to go to the delete partition menu. It will prompt the partition number you want to delete (type the number).

- Run `w` command to write the changes and reboot the system.

# 3. Ubuntu and Fedora proxy

#### 3.1 Proxy for Ubuntu

```{txt}
@client:~# sudo nano /etc/profile.d/proxy.sh
```

```{txt}
MY_PROXY_URL="proxy.noc.kochi-tech.ac.jp:3128"
HTTP_PROXY=$MY_PROXY_URL
HTTPS_PROXY=$MY_PROXY_URL
FTP_PROXY=$MY_PROXY_URL
http_proxy=$MY_PROXY_URL
https_proxy=$MY_PROXY_URL
ftp_proxy=$MY_PROXY_URL
export HTTP_PROXY HTTPS_PROXY FTP_PROXY http_proxy https_proxy ftp_proxy
```

```{txt}
@client:~# sudo nano /etc/apt/apt.conf
```

```{txt}
Acquire::http::proxy "http://proxy.noc.kochi-tech.ac.jp:3128";
Acquire::https::proxy "http://proxy.noc.kochi-tech.ac.jp:3128";
Acquire::ftp::proxy "ftp://proxy.noc.kochi-tech.ac.jp:3128";
```

For curl

```{txt}
@client ~]# sudo nano ~/.curlrc
```

```{txt}
proxy=proxy.noc.kochi-tech.ac.jp:3128
```

For wget

```{txt}
@client:~# sudo nano /etc/wgetrc
```

Add to the end

```{txt}
http_proxy = proxy.noc.kochi-tech.ac.jp:3128
https_proxy = proxy.noc.kochi-tech.ac.jp:3128
ftp_proxy = proxy.noc.kochi-tech.ac.jp:3128
```

#### 3.2 Proxy for Fedora

```{txt}
@client:~# sudo nano /etc/profile.d/proxy.sh
```

```{txt}
MY_PROXY_URL="proxy.noc.kochi-tech.ac.jp:3128"
HTTP_PROXY=$MY_PROXY_URL
HTTPS_PROXY=$MY_PROXY_URL
FTP_PROXY=$MY_PROXY_URL
http_proxy=$MY_PROXY_URL
https_proxy=$MY_PROXY_URL
ftp_proxy=$MY_PROXY_URL
export HTTP_PROXY HTTPS_PROXY FTP_PROXY http_proxy https_proxy ftp_proxy
```

```{txt}
@client:~# sudo nano /etc/dnf/dnf.conf
```

Add to the end

```{txt}
proxy=proxy.noc.kochi-tech.ac.jp:3128
```

For curl

```{txt}
@client ~]# sudo nano ~/.curlrc
```

```{txt}
proxy=proxy.noc.kochi-tech.ac.jp:3128
```

For wget

```{txt}
@client:~# sudo nano /etc/wgetrc
```

Add to the end

```{txt}
http_proxy = proxy.noc.kochi-tech.ac.jp:3128
https_proxy = proxy.noc.kochi-tech.ac.jp:3128
ftp_proxy = proxy.noc.kochi-tech.ac.jp:3128
```

# 4. Installation of STATA17 in Ubuntu/Fedora

First copy your **STATA17** source file in the **Downloads** folder of your PC. 

If the file is in **.zip** format, unzip to use it. Confirm that the **.tar.gz** extension file (Linux supported installation file) is located in the **Downloads** folder. 

I am assuming that you have the licence information ready in your hand during the following installation process:

#### Step 1: Create the installation directory, and change location into it

```{txt}
cd Downloads
```

```{txt}
mkdir statainstall
```

```{txt}
tar -xvzf Stata17Linux64.tar.gz -C statainstall
```

#### Step 2: Create the installation directory, and change location into it

```{txt}
sudo mkdir /usr/local/Stata17
```

```{txt}
cd /usr/local/Stata17
```

#### Step 3: Run the install script

```{txt}
sudo ~/Downloads/statainstall/install
```

Here, you will start the installation process and STATA17 will provide you the steps to complete. Follow these steps one by one and complete until the end.

#### Step 4: Configure the license file

```{txt}
sudo ./stinit
```

Again, STATA17 will ask you for several conformations and you need to respond properly.

#### Step 5: Running STATA17 with a graphical user interface using the command

```{txt}
./xstata
```


